<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîí LOCKED MEMORY - MISSION 2026</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Noto+Sans+TC:wght@400;700&display=swap');
        
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            background-color: #020617;
            color: #e2e8f0;
            overflow-x: hidden;
        }
        .mono-font { font-family: 'Share Tech Mono', monospace; }
        
        /* ÊéÉÊèèÁ∑öÊïàÊûú */
        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(16, 185, 129, 0.5);
            animation: scan 3s linear infinite;
            z-index: 5;
            pointer-events: none;
        }
        @keyframes scan {
            0% { top: 0%; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { top: 100%; opacity: 0; }
        }

        /* ÊïÖÈöúÈõúË®äÊïàÊûú */
        .glitch-effect {
            animation: glitch 1s linear infinite;
        }
        @keyframes glitch {
            2%, 64% { transform: translate(2px,0) skew(0deg); }
            4%, 60% { transform: translate(-2px,0) skew(0deg); }
            62% { transform: translate(0,0) skew(5deg); }
        }

        /* ÈåØË™§ÈúáÂãïÊïàÊûú */
        .shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        .fade-in { animation: fadeIn 0.8s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ==========================================
        // üëáüëáüëá ÈÅäÊà≤Êï∏ÊìöÂçÄ (Â∑≤‰øÆÂæ©Ë™ûÊ≥ïÈåØË™§) üëáüëáüëá
        // ==========================================
        const GAME_DATA = {
            agentName: "BB & Ë±¨Ë±¨", 
            missionCode: "VALENTINE-2026",
            finalMessage: "Á≥ªÁµ±Ëß£ÈéñÊàêÂäüÔºÅ\n\nÂÖ∂ÂØ¶ÈÄôÂÄãÈÅäÊà≤ÁöÑÁµÇÈªû‰∏çÊòØÂØ∂ËóèÔºåËÄåÊòØÊàëÂÄë‰∏ÄËµ∑Ëµ∞ÈÅéÁöÑË∑Ø„ÄÇ\nÊÉÖ‰∫∫ÁØÄÂø´Ê®ÇÔºåÊàëÁöÑÊúÄ‰Ω≥ÊãçÊ™îÔºÅ‚ù§Ô∏è",
            locations: [
                {
                    id: 1,
                    name: "Âè∞ÁÅ£ - Ëµ∑Èªû",
                    icon: "map-pin",
                    description: "ÊàëÂÄëË¢´ÂÇ≥ÈÄÅÂà∞‰∫Ü‰∏ÄÂÄãÁÜüÊÇâÁöÑÂú∞ÊñπÔºåÁ©∫Ê∞£‰∏≠È£ÑËëóÁîúÁîúÁöÑÂë≥ÈÅì„ÄÇ",
                    searchPoints: [
                        { name: "Ê™¢Êü•Âè£Ë¢ã", content: "Âè™Êúâ‰∏ÄÂåÖËó•ÔºåÊòØÊÑüÂÜí‰∫ÜÂóé?" },
                        { name: "Êü•ÁúãËÉåÂåÖ", content: "ÊúâÁ¥ôÂ∑æÔºå‰Ω†ÂèØ‰ª•Áî®ÂÆÉÊì¶ÈºªÊ∂ïÔºå‰ΩÜÈÄô‰∏çÊòØÈóúÈçµ„ÄÇ" },
                        { name: "ÊíøËµ∑Âú∞‰∏äÁöÑÊî∂Êìö", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÈÄôÊòØ‰∏ÄÂºµÂÖÖÊªøÂ•∂È¶ôÁöÑÊî∂Êìö„ÄÇ\nÊàëÂÄëÁ¨¨‰∏ÄÊ¨°Á¥ÑÊúÉÁöÑÁîúÈªûÈ§êÂª≥ÂêçÂ≠óÊòØÔºü(ÂçÅÂÄãÂ≠ó)" }
                    ],
                    answer: "Âè∞‰∏≠Â∏ÇÁ¨¨Âõõ‰ø°Áî®Âêà‰ΩúÁ§æ", 
                    hint: "ÊèêÁ§∫ÔºöÊúâÈªûÂÜ∑ÔºåÊòØÂÆÆÂéüÁúºÁßëÁöÑÂàÜÂ∫ó"
                },
                {
                    id: 2,
                    name: "ÈáéÊü≥ - Â•áÁü≥Èô£",
                    icon: "wind",
                    description: "Âë®ÂúçÈÉΩÊòØÂ•áÊÄ™ÂΩ¢ÁãÄÁöÑÂ≤©Áü≥ÔºåÊµ∑È¢®ÂæàÂ§ßÔºå‰ºº‰πéÊúâ‰∏ÄÂÄãÁü≥È†≠Âú®ÁõØËëóÊàëÂÄëÁúã„ÄÇ",
                    searchPoints: [
                        { name: "Ëß∏Êë∏Â≤©Áü≥", content: "Â≤©Áü≥Ë°®Èù¢ÂæàÁ≤óÁ≥ôÔºåÈÄôÂ∞±ÊòØÈ¢®ÂåñÁöÑÁóïË∑°„ÄÇ" },
                        { name: "ÊúõÂêëÊµ∑ÈÇä", content: "Êµ∑Êµ™ÊãçÊâìËëóÂ≤∏ÈÇäÔºåËÅ≤Èü≥ÂæàÂ§ß„ÄÇ" },
                        { name: "Â∞ãÊâæÊúÄÈ´òÁöÑÈÇ£È°ÜÈ†≠", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\n‰Ω†ÁúãÈÄôÂÄãÁü≥È†≠ÁöÑËÑñÂ≠êË∂ä‰æÜË∂äÁ¥∞‰∫Ü„ÄÇ\nÂÆÉÁöÑÂêçÂ≠óÊòØÔºü" }
                    ],
                    answer: "Â•≥ÁéãÈ†≠",
                    hint: "ÊèêÁ§∫ÔºöKingÁöÑÁõ∏Âèç"
                },
                {
                    id: 3,
                    name: "ÈáëÂ±± - ÊìÅÊì†ÁöÑË°óÈÅì",
                    icon: "users",
                    description: "ÈÄôË£°‰∫∫Â±±‰∫∫Êµ∑ÔºåÂ§ßÂÆ∂ÊâãË£°ÈÉΩÂú®Ë°ó‰∏äËµ∞‰æÜËµ∞Âéª„ÄÇ",
                    searchPoints: [
                        { name: "ÂæÄÈÅ†ÈÇäËµ∞Ëµ∞", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÈÇ£ÂÄãÊòØ‰ªÄÈ∫º?!\nÊàëÂÄëÈÇ£Â§©ÊÉ≥ÂÅöÂçªÂÅö‰∏çÂà∞ÁöÑÊòØÔºü(ÂÖ©ÂÄãÂ≠ó)" },
                        { name: "ÁúãÂ∫óÂÆ∂ÊãõÁâå", content: "ÈÄôÊòØËä±ÁîüÁ≥ñÈòøÔºåÊÉ≥‰∏çÂà∞ÈÄôÈ∫ºÂ•ΩÂêÉ„ÄÇ" }
                    ],
                    answer: "Ê≥°ËÖ≥",
                    hint: "ÊèêÁ§∫ÔºöËÄÅÂ≠êË§≤ÈÉΩËÑ´‰∫Ü"
                },
                {
                    id: 4,
                    name: "ÂÆúËò≠ - Â§ú‰πãÂ∏Ç",
                    icon: "moon",
                    description: "Â§©Èªë‰∫ÜÔºåËÇöÂ≠êÈ§ì‰∫Ü„ÄÇÈÄôË£°ÂÖÖÊªø‰∫ÜÂçúËÇâË∑üËî•È§ÖÁöÑÈ¶ôÂë≥„ÄÇ",
                    searchPoints: [
                        { name: "ÊâìÈñãGoogle Map", content: "GPSË®äËôüÂæÆÂº±..." },
                        { name: "ÂïèË∑Ø‰∫∫", content: "Ë∑Ø‰∫∫Ë™™ÔºöÂ∞±ÊòØÈÇ£ÂÄãÂæàÊúâÂêçÁöÑÂ§úÂ∏ÇÂïäÔºÅ" },
                        { name: "ÁúãÂÖ•Âè£Êã±ÈñÄ", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÊã±ÈñÄ‰∏äÂØ´ËëóÊàëÂÄëË¶ÅÂéªÁöÑÂ§úÂ∏ÇÂêçÂ≠ó„ÄÇ\nÂõõÂÄãÂ≠óÔºö" }
                    ],
                    answer: "ÁæÖÊù±Â§úÂ∏Ç",
                    hint: "ÊèêÁ§∫ÔºöÂ∞èÊò•"
                },
                {
                    id: 5,
                    name: "Êó•ÊúàÊΩ≠ - ÊπñÊ≥ä",
                    icon: "cloud-rain",
                    description: "‰∏ãËàπÂæåÊúâÂæàÂ§ö‰∫∫ÔºåÊàëÂÄëÁ´ôÂú®‰∏ÄËµ∑ÔºåÊâãË£°ÊãøËëó‰∏ÄÈ°ÜÁÜ±È®∞È®∞ÁöÑËõã„ÄÇ",
                    searchPoints: [
                        { name: "ÂêÉ‰∏ÄÂè£Ëõã", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÈÄôÈ°ÜËõã‰∏çÂ§™Â•ΩÂêÉÔºåÊ≤íÊúâÈ†êÊúüÁöÑÈ¶ôËèáÂíåÁ¥ÖËå∂Âë≥ÈÅì„ÄÇ\nÊòØË™∞Ë≥£ÁöÑËå∂ËëâËõãÔºü(ÂÖ©ÂÄãÂ≠ó)" },
                        { name: "ÁúãËàπÁ•®", content: "Á•®‰∏äÂØ´Ëëó„ÄåÊ∞¥Á§æÁ¢ºÈ†≠„Äç„ÄÇ" }
                    ],
                    answer: "ÈòøÂ©Ü",
                    hint: "ÊèêÁ§∫ÔºöÂπ¥Á∫™ÂæàÂ§ßÁöÑÂ•≥ÊÄß"
                },
                {
                    id: 6,
                    name: "È¶ôÊ∏Ø - Ëø™Â£´Â∞ºÈ≠îÊ≥ïÂíí",
                    icon: "sparkles", // Changed from 'Disney' which is not a valid Lucide icon
                    description: "Âùê‰∏äÂ∞èÁÜäÁ∂≠Â∞ºÂÜíÈö™‰πãÊóÖÔºå‰∏ÄËµ∑Âá∫ÁôºÂõâ„ÄÇ",
                    searchPoints: [
                        { name: "ÂéªÂùê‰∏äËàπ", content: "ÂìáÔºåÈÇ£ÈöªÊ≤≥È¶¨Â•ΩËá≠Âì¶ÔºåÈÇ£ÂÄãËàπÈï∑ÂæàÂé≠‰∏ñÁöÑÂú®Ë¨õÁ¨ëË©±Âë¢„ÄÇ" },
                        { name: "ÂéªÁæéÂúãÂ∞èÈéÆÂ§ßË°ó", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÈÇ£Èõ™Á≥ïÁúãËµ∑‰æÜÂæàÂ•ΩÂêÉÂë¢ÔºåÊòØÊúüÈñìÈôêÂÆöÁöÑ„ÄÇ\nÊàëÂÄëÂêÉ‰∫Ü‰ªÄÈ∫ºÂè£Âë≥ÁöÑÈõ™Á≥ïÔºü(ÂÖ©ÂÄãÂ≠ó)" }
                    ],
                    answer: "ÁôΩÊ°É",
                    hint: "ÊèêÁ§∫ÔºöÂ±ÅËÇ°"
                },
                {
                    id: 7,
                    name: "ÈπøÊ∏Ø - Á™ÑÂ∑∑Ëø∑ÂÆÆ",
                    icon: "minimize-2", 
                    description: "ÈÄôË£°ÁöÑÂ∑∑Â≠êÁ™ÑÂà∞ÂÖ©ÂÄã‰∫∫ÂæàÈõ£ÂêåÊôÇÈÄöÈÅéÔºåÊàëÂÄëÂ∑ÆÈªûÂç°‰Ωè„ÄÇ",
                    searchPoints: [
                        { name: "ÂòóË©¶ÈÄöÈÅé", content: "Â•ΩÊì†ÂïäÔºÅ" },
                        { name: "ÁúãÁâÜ‰∏äÁöÑÂ°óÈ¥â", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÈÄôÊ¢ùÂ∑∑Â≠êÁöÑÂêçÂ≠óÊúâÈªûÂÆ≥Áæû„ÄÇ\nËº∏ÂÖ•Â∑∑Â≠êÁöÑÂêçÂ≠ó(‰∏âÂÄãÂ≠ó)Ôºö" }
                    ],
                    answer: "Êë∏‰π≥Â∑∑",
                    hint: "ÊèêÁ§∫ÔºöÊàëÊúÄÊÑõÂÅöÁöÑ"
                },
                {
                    id: 8,
                    name: "ÂòâÁæ© - ÁÅ´ÈõûÈ£Ø",
                    icon: "utensils",
                    description: "‰æÜÂà∞ÈÄôÂ∫ßÂüéÂ∏ÇÔºåÁ©∫Ê∞£‰∏≠È£ÑËëóÈõûÊ≤πÁöÑÈ¶ôÂë≥„ÄÇ‰∏çÊòØ‰∏ÄËà¨ÁöÑÈõû„ÄÇ",
                    searchPoints: [
                        { name: "ËÅû‰∏ÄËÅûÂë≥ÈÅì", content: "Â´©ÁöÑÈõûËÇâÔºåÈÇÑÊúâÁÉ§ËÇâÊº¢Â†°„ÄÇ" },
                        { name: "ÁúãËèúÂñÆ", content: "Á´üÁÑ∂ÊúâÊØîÊàëÂÄëËÅ∞ÊòéÁöÑÈ≠öÔºå‰∏çÂèØËÉΩÁöÑ!" },
                        { name: "ÁúãÂà∞Â•áÊÄ™ÁöÑ‰∫∫", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÊòØÁÑ°ËáâÁî∑Ôºå‰ªñÊâã‰∏äÊãøËëó‰ªÄÈ∫ºÔºü\nËº∏ÂÖ•ÂÖ©ÂÄãÂ≠óÔºö" }
                    ],
                    answer: "ÂÖÉÂØ∂",
                    hint: "ÊèêÁ§∫ÔºöÁôºÂÖâÁöÑ"
                },
                {
                    id: 9,
                    name: "ÈòøÈáåÂ±± - ÈªéÊòéË°åÂãï",
                    icon: "sunrise",
                    description: "Â•ΩÂÜ∑ÔºÅÁèæÂú®ÊòØÂáåÊô®ÔºåÂë®Âúç‰∏ÄÁâáÊºÜÈªëÔºåÊàëÂÄëÂú®Á≠âÂ∞èÁÅ´Ëªä„ÄÇ",
                    searchPoints: [
                        { name: "ÁúãÊâãÈå∂", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÁÇ∫‰∫ÜÁúãÊó•Âá∫ÔºåÊàëÂÄëÂùê‰∏äÂπæÈªûÈñãÂá∫ÁöÑÁÅ´ËªäÔºü\n(3?4?5?)" },
                        { name: "ÂêÉ‰∫ÜË±¨ËÇâ‰∏∏", content: "Á®çÂæÆÊöñÂíå‰∫Ü‰∏ÄÈªû„ÄÇ" }
                    ],
                    answer: "4ÈªûÂçä",
                    hint: "ÊèêÁ§∫ÔºöÂ§©ÈÇÑÊ≤í‰∫Æ"
                },
                {
                    id: 10,
                    name: "È´òÈõÑ - ÈñãËªäÂá∫Áôº",
                    icon: "heart",
                    description: "ÊàëÂÄëÈñãËµ∑‰∫ÜÈõªÂãïËªäÔºåÈÇÑÂ∑ÆÈªûÊíûËªä‰∫Ü„ÄÇ",
                    searchPoints: [
                        { name: "ÁúãÁúãËªäÂ≠ê", content: "ËªäÂ≠êÈÇÑÂ•ΩÔºå‰ΩÜÊõæÁ∂ìÊúâÈñãÈÅéËªäÁöÑÈ©äÂÆπÈñãÂæóÊàëÂøÉÈ©öËÜΩÈ°´„ÄÇ" },
                        { name: "ÂõûÊÉ≥Ë®òÊÜ∂", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÁÇ∫‰ªÄÈ∫ºÊàëÂÄëË¶ÅÈñãÂæóËÄÅÈÅ†ÁöÑÔºåÊòØÁÇ∫‰∫ÜË≤∑‰ªÄÈ∫º?\n‰Ω†Â∞±ÊòØÂ§ßÂÇªBÔºö" }
                    ],
                    answer: "Âú∞ÁìúÈÖ•",
                    hint: "ÊèêÁ§∫ÔºöÂÇªB"
                }
            ]
        };

        // Icon Component wrapper
        const Icon = ({ name, className }) => {
            return <i data-lucide={name} className={className}></i>;
        };

        // Typing Effect Component
        const TerminalLine = ({ text, delay = 0 }) => {
            const [display, setDisplay] = useState('');
            
            useEffect(() => {
                let i = 0;
                const timer = setTimeout(() => {
                    const interval = setInterval(() => {
                        setDisplay(text.substring(0, i + 1));
                        i++;
                        if (i === text.length) clearInterval(interval);
                    }, 30);
                    return () => clearInterval(interval);
                }, delay);
                return () => clearTimeout(timer);
            }, [text, delay]);

            return <div className="font-mono text-green-400 mb-2 text-lg">> {display}<span className="animate-pulse">_</span></div>;
        };

        const App = () => {
            const [gameState, setGameState] = useState('boot'); // boot, locked, searching, solving, unlocked, victory
            const [currentLevelIndex, setCurrentLevelIndex] = useState(0);
            const [foundClue, setFoundClue] = useState(null);
            const [inputAnswer, setInputAnswer] = useState('');
            const [errorMsg, setErrorMsg] = useState('');
            const [logs, setLogs] = useState([]);
            const [isShaking, setIsShaking] = useState(false);
            const logsEndRef = useRef(null);

            // Re-render icons when DOM updates
            useEffect(() => {
                lucide.createIcons();
            }, [gameState, currentLevelIndex, foundClue]);

            // Auto-scroll logs
            useEffect(() => {
                if(logsEndRef.current) {
                    logsEndRef.current.scrollIntoView({ behavior: "smooth" });
                }
            }, [logs]);

            // Boot Sequence
            useEffect(() => {
                if (gameState === 'boot') {
                    setTimeout(() => setGameState('locked'), 3800);
                }
            }, [gameState]);

            const currentLevel = GAME_DATA.locations[currentLevelIndex];

            const addLog = (msg, type = 'info') => {
                const colors = {
                    info: 'text-gray-300',
                    warn: 'text-yellow-400',
                    error: 'text-red-400',
                    success: 'text-green-400'
                };
                setLogs(prev => [...prev, { 
                    time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit', second:'2-digit'}), 
                    msg, 
                    color: colors[type] 
                }]);
            };

            const handleSearch = (point) => {
                addLog(`Ê≠£Âú®ÂàÜÊûê: ${point.name}...`, 'info');

                setTimeout(() => {
                    if (point.content.includes("Á∑öÁ¥¢ÁôºÁèæ")) {
                        setFoundClue(point.content);
                        setGameState('solving');
                        addLog("‚ö†Ô∏è Ë≠¶ÂëäÔºöÂÅµÊ∏¨Âà∞Âä†ÂØÜÊï∏ÊìöÔºÅ", 'warn');
                        // Vibrate if on mobile
                        if (navigator.vibrate) navigator.vibrate(200);
                    } else {
                        addLog(`ÂàÜÊûêÁµêÊûú: ${point.content}`, 'info');
                    }
                }, 600);
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                const cleanInput = inputAnswer.trim().toLowerCase().replace(/\s/g, '');
                const cleanAnswer = currentLevel.answer.toLowerCase().replace(/\s/g, '');

                addLog(`È©óË≠âÂØÜÁ¢º: ${inputAnswer}...`, 'info');

                if (cleanInput === cleanAnswer || cleanInput.includes(cleanAnswer)) {
                    // Success
                    addLog("ÂØÜÁ¢ºÊ≠£Á¢∫„ÄÇÂ≠òÂèñÊ¨äÈôêÂ∑≤ÊéàÊ¨ä„ÄÇ", 'success');
                    setGameState('unlocked');
                    if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
                    
                    setTimeout(() => {
                        if (currentLevelIndex + 1 < GAME_DATA.locations.length) {
                            setCurrentLevelIndex(prev => prev + 1);
                            setGameState('searching');
                            setFoundClue(null);
                            setInputAnswer('');
                            // Optional: Clear logs or keep them
                            // setLogs([]); 
                        } else {
                            setGameState('victory');
                        }
                    }, 2500);
                } else {
                    // Fail
                    setErrorMsg('ACCESS DENIED / ÊãíÁµïË®™Âïè');
                    addLog("ÈåØË™§ÔºöÂØÜÁ¢º‰∏çÁ¨¶„ÄÇ", 'error');
                    setIsShaking(true);
                    setInputAnswer('');
                    if (navigator.vibrate) navigator.vibrate(500);
                    
                    setTimeout(() => {
                        setErrorMsg('');
                        setIsShaking(false);
                    }, 800);
                }
            };

            // 1. Boot Screen
            if (gameState === 'boot') {
                return (
                    <div className="h-screen bg-black flex flex-col items-center justify-center font-mono text-green-500 p-6">
                        <div className="w-full max-w-md">
                            <TerminalLine text="INITIALIZING SYSTEM..." delay={0} />
                            <TerminalLine text="LOADING MEMORY MODULES..." delay={1000} />
                            <TerminalLine text={`TARGET: ${GAME_DATA.agentName}`} delay={2000} />
                            <TerminalLine text="ENCRYPTING CONNECTION..." delay={3000} />
                        </div>
                    </div>
                );
            }

            // 2. Start Screen
            if (gameState === 'locked') {
                return (
                    <div className="h-screen bg-slate-900 flex flex-col items-center justify-center p-6 relative overflow-hidden">
                        <div className="scan-line"></div>
                        <div className="z-10 text-center space-y-8 max-w-lg w-full">
                            <div className="flex justify-center mb-6">
                                <div className="relative">
                                    <div className="absolute inset-0 bg-blue-500 blur-xl opacity-20 animate-pulse"></div>
                                    <Icon name="lock" className="w-28 h-28 text-blue-400" />
                                </div>
                            </div>
                            
                            <div>
                                <h1 className="text-5xl font-bold text-white mb-2 tracking-widest glitch-effect">LOCKED</h1>
                                <p className="text-blue-300 mono-font text-base tracking-widest">MISSION: {GAME_DATA.missionCode}</p>
                            </div>

                            <div className="bg-slate-800/80 border border-slate-600 p-8 rounded-xl backdrop-blur-sm text-left shadow-2xl">
                                <p className="text-gray-200 mb-6 leading-relaxed text-lg">
                                    Êé¢Âì° <strong className="text-blue-400">{GAME_DATA.agentName}</strong>ÔºåÁ≥ªÁµ±ÂÅµÊ∏¨Âà∞Â§ßÈáèÂä†ÂØÜÁöÑÂõûÊÜ∂Ê™îÊ°à„ÄÇ
                                    ÁÇ∫‰∫ÜÂèñÂõûÊï∏ÊìöÔºåÊàëÂÄëÈúÄË¶Å‰Ω†Âú®ÈÄô‰∫õÂú∞ÈªûÂ∞ãÊâæÁ∑öÁ¥¢ÔºåËß£ÈñãÂÆâÂÖ®Èéñ„ÄÇ
                                </p>
                                <button 
                                    onClick={() => setGameState('searching')}
                                    className="w-full bg-blue-600 hover:bg-blue-500 text-white font-mono text-xl py-4 rounded-lg shadow-[0_0_20px_rgba(37,99,235,0.4)] transition-all transform active:scale-95 font-bold tracking-wider"
                                >
                                    [ ÈñãÂßã‰ªªÂãô / START ]
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // 5. Victory Screen
            if (gameState === 'victory') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex flex-col items-center justify-center p-6 text-center">
                        <div className="mb-8 relative">
                            <div className="absolute inset-0 bg-pink-500 blur-3xl opacity-30 animate-pulse"></div>
                            <Icon name="heart" className="w-32 h-32 text-pink-500 relative z-10 fill-pink-500/20" />
                        </div>
                        
                        <div className="bg-white/10 backdrop-blur-md border border-white/20 p-8 rounded-2xl max-w-lg w-full shadow-2xl fade-in">
                            <h2 className="text-4xl font-bold text-white mb-6">MISSION COMPLETE</h2>
                            <div className="text-gray-100 text-xl whitespace-pre-line leading-relaxed mb-8">
                                {GAME_DATA.finalMessage}
                            </div>
                            <div className="border-t border-white/10 pt-6">
                                <p className="text-sm text-pink-300 mono-font mb-2">REWARD CODE:</p>
                                <div className="text-3xl font-mono font-bold text-white tracking-[0.2em] select-all bg-black/30 p-4 rounded-lg border border-pink-500/30">
                                    FOREVER-US
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // 3 & 4. Gameplay (Searching & Solving)
            return (
                <div className="min-h-screen bg-slate-950 text-gray-200 flex flex-col relative pb-40">
                    <div className="scan-line opacity-30"></div>
                    
                    {/* Header */}
                    <div className="bg-slate-900/90 backdrop-blur border-b border-slate-800 p-4 flex justify-between items-center sticky top-0 z-30 shadow-lg">
                        <div className="flex items-center gap-4">
                            <div className="w-12 h-12 bg-blue-900/40 rounded-lg flex items-center justify-center border border-blue-500/30">
                                <Icon name={currentLevel.icon} className="text-blue-400 w-6 h-6" />
                            </div>
                            <div>
                                <div className="text-xs text-blue-400 mono-font">LOCATION_ID: {currentLevel.id.toString().padStart(3, '0')}</div>
                                <div className="font-bold text-xl text-gray-100">{currentLevel.name}</div>
                            </div>
                        </div>
                        <div className="flex flex-col items-end">
                            <div className="mono-font text-xs text-gray-500">SECURITY LEVEL</div>
                            <div className="text-green-400 font-mono font-bold text-lg">
                                {Math.round(((currentLevelIndex) / GAME_DATA.locations.length) * 100)}%
                            </div>
                        </div>
                    </div>

                    <main className="flex-1 p-6 max-w-2xl mx-auto w-full flex flex-col gap-6 z-10">
                        
                        {/* Scene Description */}
                        <div className="bg-slate-900/60 p-6 rounded-xl border-l-4 border-blue-500 relative overflow-hidden shadow-lg">
                            <div className="absolute top-0 right-0 p-4 opacity-5 pointer-events-none">
                                <Icon name={currentLevel.icon} className="w-40 h-40" />
                            </div>
                            <h3 className="text-blue-400 font-bold mb-3 text-sm mono-font tracking-wider flex items-center gap-2">
                                <Icon name="terminal" className="w-4 h-4" /> SCENE DESCRIPTION
                            </h3>
                            <p className="text-xl leading-relaxed text-gray-100 relative z-10">{currentLevel.description}</p>
                        </div>

                        {/* Interaction Area */}
                        {gameState === 'searching' ? (
                            <div className="space-y-4 fade-in">
                                <div className="text-sm text-gray-400 mono-font mb-2 text-center bg-slate-800/50 py-1 rounded">--- SELECT TARGET / ÈÅ∏ÊìáË™øÊü•ÂçÄÂüü ---</div>
                                <div className="grid grid-cols-1 gap-4">
                                    {currentLevel.searchPoints.map((point, idx) => (
                                        <button
                                            key={idx}
                                            onClick={() => handleSearch(point)}
                                            className="group bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-blue-400 p-5 rounded-xl text-left transition-all flex items-center justify-between shadow-md active:scale-[0.98]"
                                        >
                                            <span className="flex items-center gap-4 text-lg">
                                                <div className="bg-slate-900 p-2 rounded-full group-hover:bg-blue-900/50 transition-colors">
                                                    <Icon name="search" className="w-5 h-5 text-gray-400 group-hover:text-blue-400" />
                                                </div>
                                                {point.name}
                                            </span>
                                            <Icon name="chevron-right" className="w-5 h-5 text-gray-600 group-hover:translate-x-1 transition-transform" />
                                        </button>
                                    ))}
                                </div>
                            </div>
                        ) : gameState === 'solving' ? (
                            <div className="fade-in bg-black/60 border border-green-500/40 p-6 rounded-xl shadow-[0_0_30px_rgba(16,185,129,0.15)] backdrop-blur-md">
                                <div className="flex items-start gap-4 mb-8 bg-green-900/20 p-4 rounded-lg border border-green-500/20">
                                    <div className="bg-green-500/20 p-3 rounded-full animate-pulse shrink-0">
                                        <Icon name="key" className="w-6 h-6 text-green-400" />
                                    </div>
                                    <div className="flex-1">
                                        <h3 className="text-green-400 font-mono text-sm mb-2 font-bold">DATA DECRYPTED // Á∑öÁ¥¢Ëß£ÂØÜ</h3>
                                        <p className="text-white whitespace-pre-line font-medium leading-relaxed text-lg">
                                            {foundClue}
                                        </p>
                                    </div>
                                </div>

                                <form onSubmit={handleSubmit} className="space-y-6">
                                    <div className="relative">
                                        <input 
                                            type="text" 
                                            value={inputAnswer}
                                            onChange={(e) => setInputAnswer(e.target.value)}
                                            placeholder="ENTER PASSCODE..."
                                            className={`w-full bg-slate-900 border-2 ${errorMsg ? 'border-red-500' : 'border-slate-600 focus:border-green-500'} text-green-500 font-mono text-2xl py-6 px-4 rounded-lg outline-none text-center tracking-widest uppercase transition-all shadow-inner placeholder:text-slate-700 ${isShaking ? 'shake' : ''}`}
                                            autoFocus
                                            autoComplete="off"
                                        />
                                        {errorMsg && (
                                            <div className="absolute top-full left-0 w-full text-center text-red-400 font-mono text-sm mt-2 font-bold animate-pulse">
                                                {errorMsg}
                                            </div>
                                        )}
                                    </div>
                                    <button className="w-full bg-green-600 hover:bg-green-500 text-black font-bold text-xl py-4 rounded-lg uppercase tracking-wider transition-all shadow-[0_4px_14px_rgba(74,222,128,0.4)] hover:shadow-[0_6px_20px_rgba(74,222,128,0.6)] hover:-translate-y-1 active:translate-y-0">
                                        UNLOCK / Ëß£Èéñ
                                    </button>
                                    <div className="text-center pt-2">
                                        <button 
                                            type="button" 
                                            className="text-sm text-slate-500 hover:text-blue-400 mono-font underline decoration-dotted transition-colors p-2"
                                            onClick={() => alert(currentLevel.hint)}
                                        >
                                            [ REQUEST HINT / ÊèêÁ§∫ ]
                                        </button>
                                    </div>
                                </form>
                            </div>
                        ) : (
                            // Unlocked state transition
                            <div className="flex flex-col items-center justify-center py-12 animate-pulse text-green-400 transform scale-110 transition-transform duration-500">
                                <div className="p-6 rounded-full bg-green-500/20 mb-6 shadow-[0_0_50px_rgba(74,222,128,0.5)]">
                                    <Icon name="unlock" className="w-24 h-24" />
                                </div>
                                <div className="mono-font text-3xl font-bold tracking-widest text-white drop-shadow-[0_0_10px_rgba(74,222,128,0.8)]">ACCESS GRANTED</div>
                                <div className="text-green-600 mt-2 font-mono">Redirecting to next sector...</div>
                            </div>
                        )}

                    </main>

                    {/* Terminal Log - Fixed at bottom */}
                    <div className="fixed bottom-0 left-0 w-full bg-black/95 border-t-2 border-slate-800 p-3 h-36 font-mono text-sm shadow-2xl z-40 backdrop-blur">
                        <div className="text-slate-500 text-xs mb-2 flex justify-between">
                            <span>SYSTEM LOG //</span>
                            <span className="animate-pulse text-green-500">‚óè LIVE</span>
                        </div>
                        <div className="overflow-y-auto h-24 flex flex-col space-y-1 scroll-smooth">
                            {logs.map((log, i) => (
                                <div key={i} className={`${log.color} break-words`}>
                                    <span className="opacity-50">[{log.time}]</span> {log.msg}
                                </div>
                            ))}
                            <div ref={logsEndRef} />
                            {logs.length === 0 && <span className="text-gray-700 italic">> Waiting for user input...</span>}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
