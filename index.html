<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîí LOCKED MEMORY</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Noto+Sans+TC:wght@400;700&display=swap');
        
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            background-color: #0f172a;
            color: #e2e8f0;
        }
        .mono-font { font-family: 'Share Tech Mono', monospace; }
        
        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(16, 185, 129, 0.5);
            animation: scan 3s linear infinite;
            z-index: 5;
            pointer-events: none;
        }
        @keyframes scan {
            0% { top: 0%; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { top: 100%; opacity: 0; }
        }

        .glitch-effect {
            animation: glitch 1s linear infinite;
        }
        @keyframes glitch {
            2%, 64% { transform: translate(2px,0) skew(0deg); }
            4%, 60% { transform: translate(-2px,0) skew(0deg); }
            62% { transform: translate(0,0) skew(5deg); }
        }

        .fade-in { animation: fadeIn 1s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Custom Scrollbar for terminal look */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ==========================================
        // üëáüëáüëá ÂØÜÂÆ§ÈÄÉËÑ´ÁâàÔºöÂÖßÂÆπË®≠ÂÆöÂçÄ üëáüëáüëá
        // ==========================================
        // Âª∫Ë≠∞ÔºöÂ∞áÈ°åÁõÆË®≠Ë®àÊàê„ÄåË¨éÈ°å„ÄçÔºåËÄå‰∏çÊòØÁõ¥Êé•ÂïèÂïèÈ°å„ÄÇ
        // ‰æãÂ¶ÇÔºö„ÄåËº∏ÂÖ•ËªäÁâåËôüÁ¢º„Äç„ÄÅ„ÄåËº∏ÂÖ•ÈÇ£Â§©ÁöÑÊó•Êúü(MMDD)„Äç
        const GAME_DATA = {
            agentName: "BB & Ë±¨Ë±¨", 
            missionCode: "VALENTINE-2026",
            finalMessage: "Á≥ªÁµ±Ëß£ÈéñÊàêÂäüÔºÅ\n\nÂÖ∂ÂØ¶ÈÄôÂÄãÈÅäÊà≤ÁöÑÁµÇÈªû‰∏çÊòØÂØ∂ËóèÔºåËÄåÊòØÊàëÂÄë‰∏ÄËµ∑Ëµ∞ÈÅéÁöÑË∑Ø„ÄÇ\nÊÉÖ‰∫∫ÁØÄÂø´Ê®ÇÔºåÊàëÁöÑÊúÄ‰Ω≥ÊãçÊ™îÔºÅ‚ù§Ô∏è",
            locations: [
                {
                    id: 1,
                    name: "Âè∞ÁÅ£ - Ëµ∑Èªû",
                    icon: "map-pin",
                    description: "ÊàëÂÄëË¢´ÂÇ≥ÈÄÅÂà∞‰∫Ü‰∏ÄÂÄãÁÜüÊÇâÁöÑÂú∞ÊñπÔºåÁ©∫Ê∞£‰∏≠È£ÑËëóÁîúÁîúÁöÑÂë≥ÈÅì„ÄÇ",
                    // Êé¢Á¥¢ÈªûÔºöÁé©ËÄÖË¶ÅÈªûÊìäÈÄô‰∫õÊåâÈàï‰æÜÊâæÁ∑öÁ¥¢
                    searchPoints: [
                        { name: "Ê™¢Êü•Âè£Ë¢ã", content: "Âè™Êúâ‰∏ÄÂåÖËó•ÔºåÊòØÊÑüÂÜí‰∫ÜÂóé?" },
                        { name: "Êü•ÁúãËÉåÂåÖ", content: "ÊúâÁ¥ôÂ∑æÔºå‰Ω†ÂèØ‰ª•Áî®ÂÆÉÊì¶ÈºªÊ∂ïÔºå‰ΩÜÈÄô‰∏çÊòØÈóúÈçµ„ÄÇ" },
                        { name: "ÊíøËµ∑Âú∞‰∏äÁöÑÊî∂Êìö", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÈÄôÊòØ‰∏ÄÂºµÂÖÖÊªøÂ•∂È¶ôÁöÑÊî∂Êìö„ÄÇ\nÊàëÂÄëÁ¨¨‰∏ÄÊ¨°Á¥ÑÊúÉÁöÑÁîúÈªûÈ§êÂª≥ÂêçÂ≠óÊòØÔºü(ÂçÅÂÄãÂ≠ó)" }
                    ],
                    answer: "Âè∞‰∏≠Â∏ÇÁ¨¨Âõõ‰ø°Áî®Âêà‰ΩúÁ§æ", 
                    hint: "ÊèêÁ§∫ÔºöÊúâÈªûÂÜ∑"
                },
                {
                    id: 2,
                    name: "ÈáéÊü≥ - Â•áÁü≥Èô£",
                    icon: "wind",
                    description: "Âë®ÂúçÈÉΩÊòØÂ•áÊÄ™ÂΩ¢ÁãÄÁöÑÂ≤©Áü≥ÔºåÊµ∑È¢®ÂæàÂ§ßÔºå‰ºº‰πéÊúâ‰∏ÄÂÄãÁü≥È†≠Âú®ÁõØËëóÊàëÂÄëÁúã„ÄÇ",
                    searchPoints: [
                        { name: "Ëß∏Êë∏Â≤©Áü≥", content: "Â≤©Áü≥Ë°®Èù¢ÂæàÁ≤óÁ≥ôÔºåÈÄôÂ∞±ÊòØÈ¢®ÂåñÁöÑÁóïË∑°„ÄÇ" },
                        { name: "ÊúõÂêëÊµ∑ÈÇä", content: "Êµ∑Êµ™ÊãçÊâìËëóÂ≤∏ÈÇäÔºåËÅ≤Èü≥ÂæàÂ§ß„ÄÇ" },
                        { name: "Â∞ãÊâæÊúÄÈ´òÁöÑÈÇ£È°ÜÈ†≠", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\n‰Ω†ÁúãÈÄôÂÄãÁü≥È†≠ÁöÑËÑñÂ≠êË∂ä‰æÜË∂äÁ¥∞‰∫Ü„ÄÇ\nÂÆÉÁöÑÂêçÂ≠óÊòØÔºü" }
                    ],
                    answer: "Â•≥ÁéãÈ†≠",
                    hint: "ÊèêÁ§∫ÔºöKingÁöÑÁõ∏Âèç"
                },
                {
                    id: 3,
                    name: "ÈáëÂ±± - ÊìÅÊì†ÁöÑË°óÈÅì",
                    icon: "users",
                    description: "ÈÄôË£°‰∫∫Â±±‰∫∫Êµ∑ÔºåÂ§ßÂÆ∂ÊâãË£°ÈÉΩÂú®Ë°ó‰∏äËµ∞‰æÜËµ∞Âéª„ÄÇ",
                    searchPoints: [
                        { name: "ÂæÄÈÅ†ÈÇäËµ∞Ëµ∞", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÈÇ£ÂÄãÊòØ‰ªÄÈ∫º?!\nÊàëÂÄëÈÇ£Â§©ÊÉ≥ÂÅöÂçªÂÅö‰∏çÂà∞ÁöÑÊòØÔºü(ÂÖ©ÂÄãÂ≠ó)" },
                        { name: "ÁúãÂ∫óÂÆ∂ÊãõÁâå", content: "ÈÄôÊòØËä±ÁîüÁ≥ñÈòøÔºåÊÉ≥‰∏çÂà∞ÈÄôÈ∫ºÂ•ΩÂêÉ„ÄÇ" }
                    ],
                    answer: "Ê≥°ËÖ≥",
                    hint: "ÊèêÁ§∫ÔºöËÄÅÂ≠êË§≤ÈÉΩËÑ´‰∫Ü"
                },
                {
                    id: 4,
                    name: "ÂÆúËò≠ - Â§ú‰πãÂ∏Ç",
                    icon: "moon",
                    description: "Â§©Èªë‰∫ÜÔºåËÇöÂ≠êÈ§ì‰∫Ü„ÄÇÈÄôË£°ÂÖÖÊªø‰∫ÜÂçúËÇâË∑üËî•È§ÖÁöÑÈ¶ôÂë≥„ÄÇ",
                    searchPoints: [
                        { name: "ÊâìÈñãGoogle Map", content: "GPSË®äËôüÂæÆÂº±..." },
                        { name: "ÂïèË∑Ø‰∫∫", content: "Ë∑Ø‰∫∫Ë™™ÔºöÂ∞±ÊòØÈÇ£ÂÄãÂæàÊúâÂêçÁöÑÂ§úÂ∏ÇÂïäÔºÅ" },
                        { name: "ÁúãÂÖ•Âè£Êã±ÈñÄ", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÊã±ÈñÄ‰∏äÂØ´ËëóÊàëÂÄëË¶ÅÂéªÁöÑÂ§úÂ∏ÇÂêçÂ≠ó„ÄÇ\nÂõõÂÄãÂ≠óÔºö" }
                    ],
                    answer: "ÁæÖÊù±Â§úÂ∏Ç",
                    hint: "ÊèêÁ§∫ÔºöÂ∞èÊò•"
                },
                {
                    id: 5,
                    name: "Êó•ÊúàÊΩ≠ - ÊπñÊ≥ä",
                    icon: "cloud-rain",
                    description: "‰∏ãËàπÂæåÊúâÂæàÂ§ö‰∫∫ÔºåÊàëÂÄëÁ´ôÂú®‰∏ÄËµ∑ÔºåÊâãË£°ÊãøËëó‰∏ÄÈ°ÜÁÜ±È®∞È®∞ÁöÑËõã„ÄÇ",
                    searchPoints: [
                        { name: "ÂêÉ‰∏ÄÂè£Ëõã", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÈÄôÈ°ÜËõã‰∏çÂ§™Â•ΩÂêÉÔºåÊ≤íÊúâÈ†êÊúüÁöÑÈ¶ôËèáÂíåÁ¥ÖËå∂Âë≥ÈÅì„ÄÇ\nÊòØË™∞Ë≥£ÁöÑËå∂ËëâËõãÔºü(ÂÖ©ÂÄãÂ≠ó)" },
                        { name: "ÁúãËàπÁ•®", content: "Á•®‰∏äÂØ´Ëëó„ÄåÊ∞¥Á§æÁ¢ºÈ†≠„Äç„ÄÇ" }
                    ],
                    answer: "ÈòøÂ©Ü",
                    hint: "ÊèêÁ§∫ÔºöÂπ¥Á∫™ÂæàÂ§ßÁöÑÂ•≥ÊÄß"
                },
                {
                    id: 6,
                    name: "È¶ôÊ∏Ø - Ëø™Â£´Â∞ºÈ≠îÊ≥ïÂíí",
                    icon: "Disney",
                    description: "Âùê‰∏äÂ∞èÁÜäÁ∂≠Â∞ºÂÜíÈö™‰πãÊóÖÔºå‰∏ÄËµ∑Âá∫ÁôºÂõâ„ÄÇ",
                    searchPoints: [
                        { name: "ÂéªÂùê‰∏äËàπ", content: "ÂìáÔºåÈÇ£ÈöªÊ≤≥È¶¨Â•ΩËá≠Âì¶ÔºåÈÇ£ÂÄãËàπÈï∑ÂæàÂé≠‰∏ñÁöÑÂú®Ë¨õÁ¨ëË©±Âë¢„ÄÇ" }
                        { name: "ÂéªÁæéÂúãÂ∞èÈéÆÂ§ßË°ó", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÈÇ£Èõ™Á≥ïÁúãËµ∑‰æÜÂæàÂ•ΩÂêÉÂë¢ÔºåÊòØÊúüÈñìÈôêÂÆöÁöÑ„ÄÇ\nÊàëÂÄëÂêÉ‰∫Ü‰ªÄÈ∫ºÂè£Âë≥ÁöÑÈõ™Á≥ïÔºü(ÂÖ©ÂÄãÂ≠ó)" },

                    ],
                    answer: "ÁôΩÊ°É",
                    hint: "ÊèêÁ§∫ÔºöÂ±ÅËÇ°"
                },
                {
                    id: 7,
                    name: "ÈπøÊ∏Ø - Á™ÑÂ∑∑Ëø∑ÂÆÆ",
                    icon: "maximize-2", // narrow icon substitute
                    description: "ÈÄôË£°ÁöÑÂ∑∑Â≠êÁ™ÑÂà∞ÂÖ©ÂÄã‰∫∫ÂæàÈõ£ÂêåÊôÇÈÄöÈÅéÔºåÊàëÂÄëÂ∑ÆÈªûÂç°‰Ωè„ÄÇ",
                    searchPoints: [
                        { name: "ÂòóË©¶ÈÄöÈÅé", content: "Â•ΩÊì†ÂïäÔºÅ" },
                        { name: "ÁúãÁâÜ‰∏äÁöÑÂ°óÈ¥â", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÈÄôÊ¢ùÂ∑∑Â≠êÁöÑÂêçÂ≠óÊúâÈªûÂÆ≥Áæû„ÄÇ\nËº∏ÂÖ•Â∑∑Â≠êÁöÑÂêçÂ≠ó(‰∏âÂÄãÂ≠ó)Ôºö" }
                    ],
                    answer: "Êë∏‰π≥Â∑∑",
                    hint: "ÊèêÁ§∫ÔºöÊàëÊúÄÊÑõÂÅöÁöÑ"
                },
                {
                    id: 8,
                    name: "ÂòâÁæ© - ÁÅ´ÈõûÈ£Ø",
                    icon: "utensils",
                    description: "‰æÜÂà∞ÈÄôÂ∫ßÂüéÂ∏ÇÔºåÁ©∫Ê∞£‰∏≠È£ÑËëóÈõûÊ≤πÁöÑÈ¶ôÂë≥„ÄÇ‰∏çÊòØ‰∏ÄËà¨ÁöÑÈõû„ÄÇ",
                    searchPoints: [
                        { name: "ËÅû‰∏ÄËÅûÂë≥ÈÅì", content: "Â´©ÁöÑÈõûËÇâÔºåÈÇÑÊúâÁÉ§ËÇâÊº¢Â†°„ÄÇ" },
                        { name: "ÁúãËèúÂñÆ", content: "Á´üÁÑ∂ÊúâÊØîÊàëÂÄëËÅ∞ÊòéÁöÑÈ≠öÔºå‰∏çÂèØËÉΩÁöÑ!" }
                        { name: "ÁúãÂà∞Â•áÊÄ™ÁöÑ‰∫∫", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÊòØÁÑ°ËáâÁî∑Ôºå‰ªñÊâã‰∏äÊãøËëó‰ªÄÈ∫ºÔºü\nËº∏ÂÖ•ÂÖ©ÂÄãÂ≠óÔºö" }
                    ],
                    answer: "ÂÖÉÂØ∂",
                    hint: "ÊèêÁ§∫ÔºöÁôºÂÖâÁöÑ"
                },
                {
                    id: 9,
                    name: "ÈòøÈáåÂ±± - ÈªéÊòéË°åÂãï",
                    icon: "sunrise",
                    description: "Â•ΩÂÜ∑ÔºÅÁèæÂú®ÊòØÂáåÊô®ÔºåÂë®Âúç‰∏ÄÁâáÊºÜÈªëÔºåÊàëÂÄëÂú®Á≠âÂ∞èÁÅ´Ëªä„ÄÇ",
                    searchPoints: [
                        { name: "ÁúãÊâãÈå∂", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÁÇ∫‰∫ÜÁúãÊó•Âá∫ÔºåÊàëÂÄëÂùê‰∏äÂπæÈªûÈñãÂá∫ÁöÑÁÅ´ËªäÔºü\n(3?4?5?)" },
                        { name: "ÂêÉ‰∫ÜË±¨ËÇâ‰∏∏", content: "Á®çÂæÆÊöñÂíå‰∫Ü‰∏ÄÈªû„ÄÇ" }
                    ],
                    answer: "4ÈªûÂçä",
                    hint: "ÊèêÁ§∫ÔºöÂ§©ÈÇÑÊ≤í‰∫Æ"
                },
                {
                    id: 10,
                    name: "È´òÈõÑ - ÈñãËªäÂá∫Áôº",
                    icon: "heart",
                    description: "ÊàëÂÄëÈñãËµ∑‰∫ÜÈõªÂãïËªäÔºåÈÇÑÂ∑ÆÈªûÊíûËªä‰∫Ü„ÄÇ",
                    searchPoints: [
                        { name: "ÁúãÁúãËªäÂ≠ê", content: "ËªäÂ≠êÈÇÑÂ•ΩÔºå‰ΩÜÊõæÁ∂ìÊúâÈñãÈÅéËªäÁöÑÈ©äÂÆπÈñãÂæóÊàëÂøÉÈ©öËÜΩÈ°´„ÄÇ" }
                        { name: "ÂõûÊÉ≥Ë®òÊÜ∂", content: "Á∑öÁ¥¢ÁôºÁèæÔºÅ\nÁÇ∫‰ªÄÈ∫ºÊàëÂÄëË¶ÅÈñãÂæóËÄÅÈÅ†ÁöÑÔºåÊòØÁÇ∫‰∫ÜË≤∑‰ªÄÈ∫º?\n‰Ω†Â∞±ÊòØÂ§ßÂÇªBÔºö" },
                    ],
                    answer: "Âú∞ÁìúÈÖ•",
                    hint: "ÊèêÁ§∫ÔºöÂÇªB"
                }
            ]
        };
        // ==========================================
        // üëÜüëÜüëÜ ‰øÆÊîπÁµêÊùü üëÜüëÜüëÜ
        // ==========================================

        const Icon = ({ name, className }) => {
            // Lucide icons rendered via <i> tags
            return <i data-lucide={name} className={className}></i>;
        };

        const TerminalLine = ({ text, delay = 0 }) => {
            const [display, setDisplay] = useState('');
            
            useEffect(() => {
                let i = 0;
                const timer = setTimeout(() => {
                    const interval = setInterval(() => {
                        setDisplay(text.substring(0, i + 1));
                        i++;
                        if (i === text.length) clearInterval(interval);
                    }, 30);
                    return () => clearInterval(interval);
                }, delay);
                return () => clearTimeout(timer);
            }, [text, delay]);

            return <div className="font-mono text-green-400 mb-1">> {display}<span className="animate-pulse">_</span></div>;
        };

        const App = () => {
            const [gameState, setGameState] = useState('boot'); // boot, locked, searching, solving, unlocked, victory
            const [currentLevelIndex, setCurrentLevelIndex] = useState(0);
            const [foundClue, setFoundClue] = useState(null);
            const [inputAnswer, setInputAnswer] = useState('');
            const [errorMsg, setErrorMsg] = useState('');
            const [logs, setLogs] = useState([]); // Interaction logs

            useEffect(() => {
                lucide.createIcons();
            }, [gameState, currentLevelIndex, foundClue]);

            // Boot Sequence
            useEffect(() => {
                if (gameState === 'boot') {
                    setTimeout(() => setGameState('locked'), 3500);
                }
            }, [gameState]);

            const currentLevel = GAME_DATA.locations[currentLevelIndex];

            const handleSearch = (point) => {
                // Add log
                const newLog = { 
                    time: new Date().toLocaleTimeString(), 
                    msg: `Ê≠£Âú®ÂàÜÊûê: ${point.name}...` 
                };
                setLogs(prev => [newLog, ...prev]);

                setTimeout(() => {
                    if (point.content.includes("Á∑öÁ¥¢ÁôºÁèæ")) {
                        setFoundClue(point.content);
                        setGameState('solving');
                        setLogs(prev => [{ time: new Date().toLocaleTimeString(), msg: "‚ö†Ô∏è Ë≠¶ÂëäÔºöÂÅµÊ∏¨Âà∞Âä†ÂØÜÊï∏ÊìöÔºÅ" }, ...prev]);
                    } else {
                        setLogs(prev => [{ time: new Date().toLocaleTimeString(), msg: `ÂàÜÊûêÁµêÊûú: ${point.content}` }, ...prev]);
                    }
                }, 800);
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                const cleanInput = inputAnswer.trim().toLowerCase();
                const cleanAnswer = currentLevel.answer.toLowerCase();

                if (cleanInput === cleanAnswer || cleanInput.includes(cleanAnswer)) {
                    // Success
                    setLogs(prev => [{ time: new Date().toLocaleTimeString(), msg: "ÂØÜÁ¢ºÊ≠£Á¢∫„ÄÇÂ≠òÂèñÊ¨äÈôêÂ∑≤ÊéàÊ¨ä„ÄÇ" }, ...prev]);
                    setGameState('unlocked');
                    setTimeout(() => {
                        if (currentLevelIndex + 1 < GAME_DATA.locations.length) {
                            setCurrentLevelIndex(prev => prev + 1);
                            setGameState('searching');
                            setFoundClue(null);
                            setInputAnswer('');
                            setLogs([]);
                        } else {
                            setGameState('victory');
                        }
                    }, 2000);
                } else {
                    // Fail
                    setErrorMsg('ACCESS DENIED');
                    setInputAnswer('');
                    setTimeout(() => setErrorMsg(''), 1000);
                }
            };

            // 1. Boot Screen
            if (gameState === 'boot') {
                return (
                    <div className="h-screen bg-black flex flex-col items-center justify-center font-mono text-green-500 p-4">
                        <div className="w-full max-w-md">
                            <TerminalLine text="INITIALIZING SYSTEM..." delay={0} />
                            <TerminalLine text="LOADING MEMORY MODULES..." delay={800} />
                            <TerminalLine text={`TARGET: ${GAME_DATA.agentName}`} delay={1600} />
                            <TerminalLine text="ENCRYPTING CONNECTION..." delay={2400} />
                            <div className="mt-8 text-center text-xs text-gray-500 fade-in" style={{animationDelay: '3s'}}>
                                ESTABLISHING SECURE LINK
                            </div>
                        </div>
                    </div>
                );
            }

            // 2. Start Screen
            if (gameState === 'locked') {
                return (
                    <div className="h-screen bg-slate-900 flex flex-col items-center justify-center p-6 relative overflow-hidden">
                        <div className="scan-line"></div>
                        <div className="z-10 text-center space-y-8 max-w-lg w-full">
                            <div className="flex justify-center mb-6">
                                <div className="relative">
                                    <div className="absolute inset-0 bg-blue-500 blur-xl opacity-20 animate-pulse"></div>
                                    <i data-lucide="lock" className="w-24 h-24 text-blue-400"></i>
                                </div>
                            </div>
                            
                            <div>
                                <h1 className="text-4xl font-bold text-white mb-2 tracking-widest glitch-effect">LOCKED</h1>
                                <p className="text-blue-300 mono-font text-sm">MISSION: {GAME_DATA.missionCode}</p>
                            </div>

                            <div className="bg-slate-800/50 border border-slate-700 p-6 rounded-lg backdrop-blur-sm text-left">
                                <p className="text-gray-300 mb-4 leading-relaxed">
                                    Êé¢Âì° <strong>{GAME_DATA.agentName}</strong>ÔºåÁ≥ªÁµ±ÂÅµÊ∏¨Âà∞Â§ßÈáèÂä†ÂØÜÁöÑÂõûÊÜ∂Ê™îÊ°à„ÄÇ
                                    ÁÇ∫‰∫ÜÂèñÂõûÊï∏ÊìöÔºåÊàëÂÄëÈúÄË¶Å‰Ω†Âú®ÈÄô‰∫õÂú∞ÈªûÂ∞ãÊâæÁ∑öÁ¥¢ÔºåËß£ÈñãÂÆâÂÖ®Èéñ„ÄÇ
                                </p>
                                <button 
                                    onClick={() => setGameState('searching')}
                                    className="w-full bg-blue-600 hover:bg-blue-500 text-white font-mono py-4 rounded shadow-[0_0_15px_rgba(37,99,235,0.5)] transition-all transform active:scale-95"
                                >
                                    [ ÈñãÂßã‰ªªÂãô ]
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // 5. Victory Screen
            if (gameState === 'victory') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex flex-col items-center justify-center p-6 text-center">
                        <div className="mb-8 relative">
                            <div className="absolute inset-0 bg-pink-500 blur-3xl opacity-30 animate-pulse"></div>
                            <i data-lucide="heart" className="w-32 h-32 text-pink-500 relative z-10 fill-pink-500/20"></i>
                        </div>
                        
                        <div className="bg-white/10 backdrop-blur-md border border-white/20 p-8 rounded-2xl max-w-lg w-full shadow-2xl">
                            <h2 className="text-3xl font-bold text-white mb-6">MISSION COMPLETE</h2>
                            <div className="text-gray-200 text-lg whitespace-pre-line leading-relaxed mb-8">
                                {GAME_DATA.finalMessage}
                            </div>
                            <div className="border-t border-white/10 pt-6">
                                <p className="text-sm text-pink-300 mono-font mb-2">REWARD CODE:</p>
                                <div className="text-2xl font-mono font-bold text-white tracking-[0.2em] select-all bg-black/30 p-4 rounded">
                                    FOREVER-US
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // 3 & 4. Gameplay (Searching & Solving)
            return (
                <div className="min-h-screen bg-slate-950 text-gray-200 font-sans flex flex-col">
                    {/* Header */}
                    <div className="bg-slate-900 border-b border-slate-800 p-4 flex justify-between items-center sticky top-0 z-20 shadow-md">
                        <div className="flex items-center gap-3">
                            <div className="w-10 h-10 bg-blue-900/50 rounded flex items-center justify-center border border-blue-500/30">
                                <Icon name={currentLevel.icon} className="text-blue-400 w-5 h-5" />
                            </div>
                            <div>
                                <div className="text-xs text-blue-400 mono-font">LOCATION_ID: {currentLevel.id.toString().padStart(3, '0')}</div>
                                <div className="font-bold text-gray-100">{currentLevel.name}</div>
                            </div>
                        </div>
                        <div className="mono-font text-xs text-gray-500">
                            SEC_LEVEL: {Math.round(((currentLevelIndex + 1) / GAME_DATA.locations.length) * 100)}%
                        </div>
                    </div>

                    <main className="flex-1 p-6 max-w-2xl mx-auto w-full flex flex-col gap-6">
                        
                        {/* Scene Description */}
                        <div className="bg-slate-900/50 p-6 rounded-lg border-l-4 border-blue-500 relative overflow-hidden">
                            <div className="absolute top-0 right-0 p-4 opacity-10">
                                <Icon name={currentLevel.icon} className="w-32 h-32" />
                            </div>
                            <h3 className="text-blue-400 font-bold mb-2 text-sm mono-font tracking-wider">SCENE DESCRIPTION</h3>
                            <p className="text-lg relative z-10">{currentLevel.description}</p>
                        </div>

                        {/* Interaction Area */}
                        {gameState === 'searching' ? (
                            <div className="space-y-4 fade-in">
                                <div className="text-sm text-gray-400 mono-font mb-2 text-center">--- ÈÅ∏ÊìáË™øÊü•ÂçÄÂüü ---</div>
                                <div className="grid grid-cols-1 gap-3">
                                    {currentLevel.searchPoints.map((point, idx) => (
                                        <button
                                            key={idx}
                                            onClick={() => handleSearch(point)}
                                            className="group bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-blue-400 p-4 rounded-lg text-left transition-all flex items-center justify-between"
                                        >
                                            <span className="flex items-center gap-3">
                                                <i data-lucide="search" className="w-4 h-4 text-gray-500 group-hover:text-blue-400"></i>
                                                {point.name}
                                            </span>
                                            <i data-lucide="chevron-right" className="w-4 h-4 text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity"></i>
                                        </button>
                                    ))}
                                </div>
                            </div>
                        ) : gameState === 'solving' ? (
                            <div className="fade-in bg-black/40 border border-green-500/30 p-6 rounded-xl shadow-[0_0_20px_rgba(16,185,129,0.1)]">
                                <div className="flex items-start gap-4 mb-6">
                                    <div className="bg-green-500/20 p-3 rounded-full animate-pulse">
                                        <i data-lucide="key" className="w-6 h-6 text-green-400"></i>
                                    </div>
                                    <div className="flex-1">
                                        <h3 className="text-green-400 font-mono text-sm mb-1">DATA DECRYPTED</h3>
                                        <p className="text-white whitespace-pre-line font-medium leading-relaxed">
                                            {foundClue}
                                        </p>
                                    </div>
                                </div>

                                <form onSubmit={handleSubmit} className="space-y-4">
                                    <div className="relative">
                                        <input 
                                            type="text" 
                                            value={inputAnswer}
                                            onChange={(e) => setInputAnswer(e.target.value)}
                                            placeholder="ENTER PASSCODE..."
                                            className="w-full bg-black border-2 border-slate-700 focus:border-green-500 text-green-500 font-mono text-xl p-4 rounded outline-none text-center tracking-widest uppercase transition-colors"
                                            autoFocus
                                        />
                                        {errorMsg && (
                                            <div className="absolute top-full left-0 w-full text-center text-red-500 font-mono text-sm mt-2 animate-bounce">
                                                {errorMsg}
                                            </div>
                                        )}
                                    </div>
                                    <button className="w-full bg-green-600 hover:bg-green-500 text-black font-bold py-3 rounded uppercase tracking-wider transition-colors shadow-lg shadow-green-900/20">
                                        UNLOCK
                                    </button>
                                    <div className="text-center">
                                        <button 
                                            type="button" 
                                            className="text-xs text-slate-500 hover:text-slate-300 mono-font underline decoration-dotted"
                                            onClick={() => alert(currentLevel.hint)}
                                        >
                                            REQUEST HINT_
                                        </button>
                                    </div>
                                </form>
                            </div>
                        ) : (
                            // Unlocked state transition
                            <div className="flex flex-col items-center justify-center py-12 animate-pulse text-green-500">
                                <i data-lucide="unlock" className="w-16 h-16 mb-4"></i>
                                <div className="mono-font text-xl">ACCESS GRANTED</div>
                            </div>
                        )}

                        {/* Terminal Log */}
                        <div className="mt-auto bg-black p-4 rounded border border-slate-800 h-32 overflow-y-auto font-mono text-xs opacity-70">
                            <div className="text-slate-500 mb-2 border-b border-slate-800 pb-1">SYSTEM LOG //</div>
                            {logs.map((log, i) => (
                                <div key={i} className="mb-1">
                                    <span className="text-blue-500">[{log.time}]</span> <span className="text-gray-400">{log.msg}</span>
                                </div>
                            ))}
                            {logs.length === 0 && <span className="text-gray-600">Waiting for user input...</span>}
                        </div>

                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

